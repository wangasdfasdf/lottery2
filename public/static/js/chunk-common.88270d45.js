(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0371":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),r("el-form",{attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"登录名称："}},[r("el-input",{attrs:{placeholder:"请输入登录名称",size:"small",clearable:""},model:{value:e.formInline.login_name,callback:function(t){e.$set(e.formInline,"login_name",t)},expression:"formInline.login_name"}})],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"店铺名称："}},[r("el-input",{attrs:{placeholder:"请输入店铺名称",size:"small",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"店铺状态："}},[r("el-select",{attrs:{placeholder:"请选择店铺单状态",size:"small",clearable:""},model:{value:e.formInline.exceed,callback:function(t){e.$set(e.formInline,"exceed",t)},expression:"formInline.exceed"}},e._l(e.statusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"}},[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("查 询")]),e.aid?e._e():r("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit({})}}},[e._v("新 增")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),r("el-table-column",{attrs:{prop:"name",label:"店铺名称"}}),r("el-table-column",{attrs:{prop:"login_name",label:"登录名"}}),r("el-table-column",{attrs:{prop:"machine_id",label:"机器码"}}),r("el-table-column",{attrs:{prop:"left_days",label:"剩余天数"}}),r("el-table-column",{attrs:{prop:"expiry_time",label:"是否到期"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.left_days<=0?r("span",{staticStyle:{color:"#909399"}},[e._v("已过期")]):r("span",{staticStyle:{color:"#67C23A"}},[e._v("正常")])]}}])}),r("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.formatDateTime(t.row.created_at))+"\n      ")]}}])}),r("el-table-column",{attrs:{prop:"status",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("span",{staticStyle:{color:"#67C23A"}},[e._v("启用")]):r("span",{staticStyle:{color:"#909399"}},[e._v("禁用")])]}}])}),r("el-table-column",{attrs:{prop:"is_history",label:"往期竞猜",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.is_history?r("span",{staticStyle:{color:"#67C23A"}},[e._v("开启")]):r("span",{staticStyle:{color:"#909399"}},[e._v("关闭")])]}}])}),e.aid?r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleJump(t.row)}}},[e._v("查看订单")])]}}],null,!1,4662688)}):r("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{staticStyle:{color:"#E6A23C"},attrs:{type:"text"},on:{click:function(r){return e.handleResetPwd(t.row)}}},[e._v("重置密码")]),r("el-button",{staticStyle:{color:"#1890ff","margin-left":"0"},attrs:{type:"text"},on:{click:function(r){return e.handleSet(t.row)}}},[e._v("加时")]),t.row.machine_id?r("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(r){return e.handleReset(t.row)}}},[e._v("重置机器码")]):r("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",disabled:""}},[e._v("重置机器码")])]}}])})],1),e.aid?e._e():[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-drawer",{attrs:{title:e.ruleForm.id?"编辑店铺":"新增店铺",visible:e.dialogVisible,size:"50%",direction:"rtl","destroy-on-close":"",wrapperClosable:!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"drawer__wrapper",staticStyle:{padding:"0 20px"}},[r("div",{staticClass:"drawer__content"},[r("el-form",{ref:"ruleForm",attrs:{inline:!1,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"店铺名称：",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请输入店铺名称",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"联系方式：",prop:"phone"}},[r("el-input",{attrs:{size:"medium",placeholder:"请输入联系方式",clearable:""},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),e.ruleForm.id?e._e():[r("el-form-item",{attrs:{label:"登陆名称：",prop:"login_name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请输入登陆名称",clearable:""},model:{value:e.ruleForm.login_name,callback:function(t){e.$set(e.ruleForm,"login_name",t)},expression:"ruleForm.login_name"}})],1),r("el-form-item",{attrs:{label:"登陆密码：",prop:"password"}},[r("el-input",{attrs:{size:"medium",placeholder:"请输入登陆密码",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码：",prop:"password_confirmation"}},[r("el-input",{attrs:{size:"medium",placeholder:"请再次输入登陆密码",clearable:""},model:{value:e.ruleForm.password_confirmation,callback:function(t){e.$set(e.ruleForm,"password_confirmation",t)},expression:"ruleForm.password_confirmation"}})],1)],r("el-form-item",{attrs:{label:"店铺备注：",prop:"note"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",resize:"none",size:"medium",rows:4,placeholder:"请输入备注",clearable:""},model:{value:e.ruleForm.note,callback:function(t){e.$set(e.ruleForm,"note",t)},expression:"ruleForm.note"}})],1),r("el-form-item",{attrs:{label:"状态：",prop:"status"}},[r("el-radio-group",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[r("el-radio",{attrs:{label:"1"}},[e._v("启用")]),r("el-radio",{attrs:{label:"-1"}},[e._v("禁用")])],1)],1),r("el-form-item",{attrs:{label:"往期竞彩：",prop:"is_history"}},[r("el-radio-group",{on:{change:e.onHistoryChange},model:{value:e.ruleForm.is_history,callback:function(t){e.$set(e.ruleForm,"is_history",t)},expression:"ruleForm.is_history"}},[r("el-radio",{attrs:{label:"1"}},[e._v("开启")]),r("el-radio",{attrs:{label:"-1"}},[e._v("关闭")])],1),1==e.ruleForm.is_history?r("el-checkbox-group",{model:{value:e.openHistory,callback:function(t){e.openHistory=t},expression:"openHistory"}},e._l(e.historyOptions,(function(t){return r("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1):e._e()],1),r("el-form-item",{attrs:{label:"其他模块："}},[r("el-checkbox-group",{model:{value:e.openCurrent,callback:function(t){e.openCurrent=t},expression:"openCurrent"}},e._l(e.currentOptions,(function(t){return r("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),r("el-form-item",{attrs:{label:"线上支付：",prop:"is_open_online_pay"}},[r("el-radio-group",{model:{value:e.ruleForm.is_open_online_pay,callback:function(t){e.$set(e.ruleForm,"is_open_online_pay",t)},expression:"ruleForm.is_open_online_pay"}},[r("el-radio",{attrs:{label:"1"}},[e._v("开启")]),r("el-radio",{attrs:{label:"-1"}},[e._v("关闭")])],1),1==e.ruleForm.is_open_online_pay?r("el-row",e._l(e.comboOptions,(function(t){return r("el-col",{key:t.key,staticStyle:{"margin-bottom":"12px"},attrs:{span:12}},[r("span",{staticStyle:{"padding-right":"20"}},[e._v(e._s(t.title)+"：")]),r("el-input-number",{attrs:{size:"small",precision:2,step:.1,max:999999999},model:{value:e.ruleForm[t.key],callback:function(r){e.$set(e.ruleForm,t.key,r)},expression:"ruleForm[sitem.key]"}})],1)})),1):e._e()],1)],2)],1),r("span",{staticClass:"drawer__footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)])]),r("el-dialog",{attrs:{title:"重置密码",visible:e.dialogVisiblePwd,width:"480px","destroy-on-close":"",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisiblePwd=t}}},[r("el-form",{ref:"ruleFormPwd",attrs:{inline:!0,model:e.ruleFormPwd,rules:e.rulesPwd,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"登陆密码：",prop:"password"}},[r("el-input",{attrs:{size:"medium",placeholder:"请输入登陆密码",clearable:""},model:{value:e.ruleFormPwd.password,callback:function(t){e.$set(e.ruleFormPwd,"password",t)},expression:"ruleFormPwd.password"}})],1),r("el-form-item",{attrs:{label:"确认密码：",prop:"password_confirmation"}},[r("el-input",{attrs:{size:"medium",placeholder:"请再次输入登陆密码",clearable:""},model:{value:e.ruleFormPwd.password_confirmation,callback:function(t){e.$set(e.ruleFormPwd,"password_confirmation",t)},expression:"ruleFormPwd.password_confirmation"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisiblePwd=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitFormPwd("ruleFormPwd")}}},[e._v("确 定")])],1)],1)]],2)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("7f7f"),r("96cf"),r("3b8d")),s=(r("c5f6"),r("5a0c")),l=r.n(s),u=r("ed08");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={props:{api:{type:Object,default:function(){}},aid:{type:[Number,String],default:""}},data:function(){var e=this;return{loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],dialogVisible:!1,statusList:[{label:"全部",value:""},{label:"正常",value:"2"},{label:"已过期",value:"1"}],formInline:{exceed:""},searhParams:{},ruleForm:{},rules:{phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],name:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],login_name:[{required:!0,message:"请输入登录名",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],password_confirmation:[{required:!0,validator:function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],is_history:[{required:!0,message:"请选择",trigger:"change"}],is_open_online_pay:[{required:!0,message:"请选择",trigger:"change"}]},dialogVisiblePwd:!1,ruleFormPwd:{},rulesPwd:{password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],password_confirmation:[{required:!0,validator:function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleFormPwd.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},openHistory:[],historyOptions:[{label:"竞彩足球",value:1},{label:"竞彩篮球",value:2},{label:"北京单场",value:4}],openCurrent:[],currentOptions:[{label:"北京单场",value:1},{label:"排列三",value:2}],comboOptions:[{key:"month_money",title:"月付(30天)"},{key:"month2_money",title:"两月付(60天)"},{key:"quarter_money",title:"季付(90天)"},{key:"half_year_money",title:"半年付(180天)"},{key:"year_money",title:"年付(365天)"}]}},methods:{handleSet:function(e){var t=this,r=e.id;this.$prompt("请输入天数","提示",{confirmButtonText:"确定",closeOnClickModal:!1,closeOnPressEscape:!1,cancelButtonText:"取消",inputValue:"0",inputPattern:/^[\+|-]?[0-9][0-9]*([\.][0-9]{1})?$/,inputErrorMessage:"格式不正确"}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.value,e.next=3,t.api.shopExpiry({shop_id:r,days:n});case 3:i=e.sent,200==i.code&&(t.$message.success("操作成功"),t.$store.dispatch("GetInfo"),t.getData());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){}))},handleJump:function(e){var t=e.id;this.$router.push("/agent/".concat(this.aid,"/").concat(t,"/order"))},onHistoryChange:function(){this.openHistory=[]},onPayChange:function(){this.openHistory=[]},formatDateTime:function(e){return l()(e).format("YYYY-MM-DD HH:mm:ss")},isOutTime:function(e){return l()().isAfter(l()(e))},handleResetPwd:function(e){var t=e.id;this.ruleFormPwd={id:t,password:"",password_confirmation:""},this.dialogVisiblePwd=!0},handleReset:function(e){var t=this,r=e.id;this.$confirm("即将重置机器码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.shopEdit(r,{machine_id:""});case 2:a=e.sent,200==a.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return e.stop()}}),e)}))))},handleEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,s,l,c,d,p,m,f,g,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.id,this.openHistory=[],this.openCurrent=[],!r){e.next=10;break}return e.next=6,this.api.shopInfo(r);case 6:a=e.sent,200==a.code&&(n=a.data,i=n.id,o=n.name,s=n.status,l=n.phone,c=n.note,d=n.is_history,p=n.is_open_online_pay,m=n.month_money,f=n.quarter_money,g=n.role_current,h=n.role_history,this.ruleForm={id:i,name:o,phone:l,status:s+"",is_history:d+"",note:c,is_open_online_pay:p+"",month_money:m,quarter_money:f},this.openHistory=Object(u["c"])(this.historyOptions.map((function(e){return Number(e.value)})))[h]||[],this.openCurrent=Object(u["c"])(this.currentOptions.map((function(e){return Number(e.value)})))[g]||[],this.dialogVisible=!0),e.next=12;break;case 10:this.ruleForm={name:"",login_name:"",password_confirmation:"",password:"",status:"1",is_history:"-1"},this.dialogVisible=!0;case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitFormPwd:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.next=3,t.api.shopEdit(t.ruleFormPwd.id,d({},t.ruleFormPwd));case 3:a=e.sent,200==a.code&&(t.dialogVisiblePwd=!1,t.$message.success("操作成功")),e.next=9;break;case 7:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}if(1!=t.ruleForm.is_history||0!=t.openHistory.length){e.next=3;break}return e.abrupt("return",t.$message("请至少选择一个往期竞猜模块"));case 3:if(a={role_history:t.openHistory.reduce((function(e,t){return e+t}),0),role_current:t.openCurrent.reduce((function(e,t){return e+t}),0)},!t.ruleForm.id){e.next=10;break}return e.next=7,t.api.shopEdit(t.ruleForm.id,d({},t.ruleForm,{},a));case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,t.api.shopAdd(d({},t.ruleForm,{},a));case 12:e.t0=e.sent;case 13:n=e.t0,200==n.code&&(t.dialogVisible=!1,t.$message.success("操作成功"),t.getData()),e.next=19;break;case 17:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.api.shopList(d({num:this.pageSize,page:this.currentPage},this.searhParams,{},this.aid?{agent_id:this.aid}:{}));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=(t.data&&t.data.list?t.data.list:[]).map((function(e){var t=l()(e.expiry_time).diff(l()(),"day",!0);return d({},e,{left_days:t>0?t.toFixed(1):0})})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1,this.searhParams=d({},this.formInline),this.getData()}},created:function(){this.getData()}},m=p,f=r("2877"),g=Object(f["a"])(m,a,n,!1,null,null,null);t["a"]=g.exports},"07b8":function(e,t){e.exports="data:image/png;base64,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"},"279f":function(e,t,r){"use strict";var a=r("d44a"),n=r.n(a);n.a},"365c":function(e,t,r){"use strict";r.d(t,"Q",(function(){return p})),r.d(t,"J",(function(){return m})),r.d(t,"n",(function(){return f})),r.d(t,"f",(function(){return g})),r.d(t,"m",(function(){return h})),r.d(t,"l",(function(){return b})),r.d(t,"k",(function(){return v})),r.d(t,"g",(function(){return w})),r.d(t,"i",(function(){return y})),r.d(t,"h",(function(){return A})),r.d(t,"j",(function(){return x})),r.d(t,"I",(function(){return k})),r.d(t,"K",(function(){return O})),r.d(t,"L",(function(){return _})),r.d(t,"p",(function(){return S})),r.d(t,"o",(function(){return F})),r.d(t,"P",(function(){return C})),r.d(t,"M",(function(){return P})),r.d(t,"N",(function(){return j})),r.d(t,"t",(function(){return D})),r.d(t,"q",(function(){return I})),r.d(t,"s",(function(){return E})),r.d(t,"r",(function(){return z})),r.d(t,"C",(function(){return B})),r.d(t,"O",(function(){return T})),r.d(t,"z",(function(){return R})),r.d(t,"A",(function(){return N})),r.d(t,"B",(function(){return J})),r.d(t,"G",(function(){return U})),r.d(t,"d",(function(){return V})),r.d(t,"x",(function(){return Q})),r.d(t,"H",(function(){return L})),r.d(t,"e",(function(){return M})),r.d(t,"y",(function(){return q})),r.d(t,"E",(function(){return H})),r.d(t,"b",(function(){return G})),r.d(t,"v",(function(){return $})),r.d(t,"F",(function(){return Y})),r.d(t,"c",(function(){return Z})),r.d(t,"w",(function(){return X})),r.d(t,"D",(function(){return K})),r.d(t,"a",(function(){return W})),r.d(t,"u",(function(){return ee}));r("a481"),r("6b54"),r("96cf");var a=r("3b8d"),n=r("2b0e"),i=r("bc3a"),o=r.n(i),s=r("4360"),l=r("a18c"),u=new n["default"],c=o.a.create({baseURL:"/",timeout:2e4});c.interceptors.request.use(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.headers.token=s["a"].state.user.token||"","post"===t.method&&("[object FormData]"==Object.prototype.toString.call(t.data)?t.headers["Content-Type"]="multipart/form-data":t.headers["Content-Type"]="application/json"),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return u.$message.error(e),Promise.reject()})),c.interceptors.response.use((function(e){if(200===e.status)return 200!==e.data.code&&u.$message.error(e.data.msg),e.data;u.$message.error("接口请求异常，请稍后再试，错误代码："+e.status),Promise.reject(e)}),(function(e){var t=e&&e.response&&e.response.data&&401==e.response.data.code?"登录已过期":e;return u.$message.error(t),"登录已过期"==t&&l["a"].replace("/login"),Promise.reject(t)}));var d=c,p=function(){return new Promise((function(e){return e({code:200})}))},m=function(e){return d.post("/admin/v1/login",e)},f=function(e){return d.get("/admin/v1/admin",{params:e})},g=function(e){return d.post("/admin/v1/admin",e)},h=function(e,t){return d.put("/admin/v1/admin/".concat(e),t)},b=function(e,t){return d.delete("/admin/v1/admin/".concat(e),t)},v=function(e){return d.get("/admin/v1/agent",{params:e})},w=function(e){return d.post("/admin/v1/agent",e)},y=function(e,t){return d.put("/admin/v1/agent/".concat(e),t)},A=function(e,t){return d.delete("/admin/v1/agent/".concat(e),t)},x=function(e,t){return d.put("/admin/v1/agent/".concat(e,"/account-days"),t)},k=function(e){return d.get("/admin/v1/wallet-payment-log",{params:e})},O=function(e){return d.get("/admin/v1/order",{params:e})},_=function(e){return d.get("/admin/v1/order/statistical",{params:e})},S=function(e){return d.get("/admin/v1/shop",{params:e})},F=function(e,t){return d.get("/admin/v1/shop/".concat(e),{params:t})},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.post("/admin/v1/upload",e,t)},P=function(e){return d.post("/admin/v1/app-version",e)},j=function(e){return d.get("/admin/v1/app-version",{params:e})},D=function(e){return d.get("/admin/v1/ad",{params:e})},I=function(e){return d.post("/admin/v1/ad",e)},E=function(e,t){return d.put("/admin/v1/ad/".concat(e),t)},z=function(e,t){return d.delete("/admin/v1/ad/".concat(e),t)},B=function(e){return o.a.get("/shop/v1/version",{params:e})},T=function(e){return d.post("/admin/v1/version",e)},R=function(e){return d.get("/admin/v1/link",{params:e})},N=function(e){return d.delete("/admin/v1/link/".concat(e),{})},J=function(e){return d.get("/admin/v1/agent/account-day/log",{params:e})},U=function(){return d.get("/admin/v1/config/wallet_address",{})},V=function(e){return d.post("/admin/v1/config",{name:"钱包设置",key:"wallet_address",value:e})},Q=function(e,t){return d.put("/admin/v1/config/".concat(e),{name:"钱包设置",key:"wallet_address",value:t})},L=function(){return d.get("/admin/v1/config/wallet_info",{})},M=function(e){return d.post("/admin/v1/config",{name:"钱包说明",key:"wallet_info",value:e})},q=function(e,t){return d.put("/admin/v1/config/".concat(e),{name:"钱包说明",key:"wallet_info",value:t})},H=function(){return d.get("/admin/v1/config/statement",{})},G=function(e){return d.post("/admin/v1/config",{name:"系统声明",key:"statement",value:e})},$=function(e,t){return d.put("/admin/v1/config/".concat(e),{name:"系统声明",key:"statement",value:t})},Y=function(){return d.get("/admin/v1/config/u2day2",{})},Z=function(e){return d.post("/admin/v1/config",{name:"U转天数",key:"u2day2",value:e})},X=function(e,t){return d.put("/admin/v1/config/".concat(e),{name:"U转天数",key:"u2day2",value:t})},K=function(){return d.get("/admin/v1/config/contactus",{})},W=function(e){return d.post("/admin/v1/config",{name:"联系我们",key:"contactus",value:e})},ee=function(e,t){return d.put("/admin/v1/config/".concat(e),{name:"联系我们",key:"contactus",value:t})}},"422f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[e.is_agent?r("el-table-column",{attrs:{prop:"shop_name",label:"店铺名称"}}):r("el-table-column",{attrs:{prop:"agent_name",label:"代理名称"}}),r("el-table-column",{attrs:{prop:"amount",label:"转账金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n       "+e._s(e.formatMoney(t.row.amount))+"\n      ")]}}])}),r("el-table-column",{attrs:{prop:"transfer_time",label:"转账时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n       "+e._s(e.formatDateTime(t.row.transfer_time))+"\n      ")]}}])}),r("el-table-column",{attrs:{prop:"from_address",label:"转账账户"}}),r("el-table-column",{attrs:{prop:"type",label:"转账方式(月付/季付)"}})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("96cf"),r("3b8d")),s=(r("c5f6"),r("5a0c")),l=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={props:{api:{type:Object,default:function(){}},is_agent:Boolean},data:function(){return{loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],statusList:[],formInline:{},visible:!1,searhParams:{},dialogVisible:!1}},methods:{formatDateTime:function(e){return l()(new Date(Number(e))).format("YYYY-MM-DD HH:mm:ss")},formatMoney:function(e){return(Number(e)/1e6).toFixed(2)},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.api.getWalletLogList(c({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1;var e=this.formInline.range&&this.formInline.range[0]?this.formInline.range[0]:void 0,t=this.formInline.range&&this.formInline.range[1]?this.formInline.range[1]:void 0;this.searhParams=c({},this.formInline,{range:void 0,start_time:e,end_time:t}),this.getData()}},created:function(){this.getData()}},p=d,m=r("2877"),f=Object(m["a"])(p,a,n,!1,null,null,null);t["a"]=f.exports},4360:function(e,t,r){"use strict";var a=r("2f62"),n=r("2b0e"),i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("7f7f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-order",{attrs:{api:e.api,aid:e.aid,sid:e.sid}})}),s=[],l=r("365c"),u=r("e488"),c={components:{vOrder:u["a"]},data:function(){return{api:{orderList:l["K"],orderStat:l["L"]},aid:this.$route.params.aid,sid:this.$route.params.sid}}},d=c,p=r("2877"),m=Object(p["a"])(d,o,s,!1,null,null,null),f=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-shop",{attrs:{api:e.api,aid:e.aid}})},h=[],b=r("0371"),v={components:{vShop:b["a"]},data:function(){return{api:{shopList:l["p"],shopInfo:l["o"]},aid:this.$route.params.aid}}},w=v,y=Object(p["a"])(w,g,h,!1,null,null,null),A=y.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("el-radio-group",{attrs:{size:"medium"},on:{input:e.onChange},model:{value:e.tabType,callback:function(t){e.tabType=t},expression:"tabType"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v("版本发布")]),r("el-radio-button",{attrs:{label:"2"}},[e._v("更新记录")])],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.tabType,expression:"tabType==1"}],staticClass:"upload-tab"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"上传资源文件：",prop:"file"}},[r("el-upload",{staticStyle:{width:"360px"},attrs:{drag:"",action:"#","auto-upload":!1,"on-change":e.fileChange,accept:".zip","show-file-list":!1}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")]),r("div",{staticStyle:{color:"#67C23A","margin-top":"-12px","font-size":"12px"}},[e._v("(只能上传.zip文件,文件命名为md5@version.zip)")])]),e.ruleForm.file?r("div",{staticClass:"el-upload__tip zip-tips",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.ruleForm.file.name)),r("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"14px","font-weight":"bold","margin-left":"20px",cursor:"pointer"},on:{click:function(t){return t.stopPropagation(),e.fileRemove(t)}}})]):e._e()])],1),r("el-form-item",{attrs:{label:"本次版本号：",prop:"version"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",size:"medium",placeholder:"上传文件后自动获取"},model:{value:e.ruleForm.version,callback:function(t){e.$set(e.ruleForm,"version",t)},expression:"ruleForm.version"}}),r("el-tag",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"}},[e._v("线上版本:"+e._s(e.serverVersion))])],1),r("el-form-item",{attrs:{label:"本次更新内容：",prop:"desc"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",size:"medium",rows:5,placeholder:"请输入更新内容"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitPublish("ruleForm")}}},[e._v("发 布")])],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:2==e.tabType,expression:"tabType==2"}]},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),r("el-table-column",{attrs:{prop:"version",label:"版本"}}),r("el-table-column",{attrs:{prop:"desc",label:"更新内容"}}),r("el-table-column",{attrs:{prop:"download",label:"文件地址"}}),r("el-table-column",{attrs:{prop:"created_at",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.formatDateTime(t.row.created_at))+"\n        ")]}}])})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},k=[],O=(r("96cf"),r("3b8d")),_=(r("a481"),r("28a5"),r("5a0c")),S=r.n(_),F=r("ed08"),C=r("5c96");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=null,I={data:function(){var e=this,t=function(t,r,a){r?Object(F["a"])(e.serverVersion,r)?a(new Error("更新版本号必须大于当前版本号！")):a():a(new Error("请输入本次版本号"))},r=function(e,t,r){t?r():r(new Error("请上传资源文件"))};return{tabType:1,loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],ruleForm:{version:"",desc:"",file:null},serverVersion:"0.0.0",rules:{desc:[{required:!0,message:"请输入更新内容",trigger:"blur"}],version:[{required:!0,validator:t,trigger:"blur"}],file:[{required:!0,validator:r,trigger:"change"}]},formInline:{},searhParams:{},fileList:[]}},methods:{fileRemove:function(){this.ruleForm.file=null,this.ruleForm.version="",this.ruleForm.md5="",this.$refs.ruleForm.validateField("file")},fileChange:function(e){if(this.beforeUpload(e.raw)){var t=e.name.replace(".zip","").split("@"),r=t[1];if(Object(F["a"])(this.serverVersion,r))return this.$message.warning("更新版本号必须大于当前版本号！");this.ruleForm.file=e,this.ruleForm.version=r,this.ruleForm.md5=t[0],this.$refs.ruleForm.validateField("file")}},httpUpload:function(e){return new Promise((function(t){var r=new FormData;r.append("file",e),D=C["Loading"].service({lock:!0,text:"开始上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),Object(l["P"])(r,{onUploadProgress:function(e){var t=parseInt(e.loaded/e.total*100);D.setText("已上传：".concat(t,"%"))}}).then((function(e){200==e.code?(D.setText("发布中..."),t(e.data.url)):(D.close(),t(null))})).catch((function(e){D.close(),t(null)}))}))},beforeUpload:function(e){var t=e.type.indexOf("zip")>-1;if(!t){var r="上传文件只能是 zip 格式!";return this.$message.warning(r),!1}if(!/^([a-fA-F0-9]{32})@(\d+)\.(\d+)\.(\d+)\.zip$/.test(e.name)){var a="文件名必须包含MD5与版本号信息!";return this.$message.warning(a),!1}return!0},onChange:function(e){2==e&&(this.currentPage=1,this.pageSize=10,this.pageTotal=0,this.formInline={},this.getData())},formatDateTime:function(e){return S()(e).format("YYYY-MM-DD HH:mm:ss")},clearForm:function(){this.$refs.ruleForm.resetFields(),this.ruleForm={version:"",desc:"",file:null}},handleConfirm:function(e){var t=this;this.$confirm("即将发布版本".concat(e.version,", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(O["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.httpUpload(t.ruleForm.file.raw);case 2:if(r=e.sent,!r){e.next=12;break}return e.next=6,Object(l["M"])({version:t.ruleForm.version,download:r,desc:t.ruleForm.desc});case 6:return a=e.sent,e.next=9,Object(l["O"])({version:t.ruleForm.version,downUrl:r,md5:t.ruleForm.md5});case 9:n=e.sent,D.close(),200==a.code&&n&&(t.$message({type:"success",message:"发布成功!"}),t.getNowVersion(),t.clearForm());case 12:case"end":return e.stop()}}),e)}))))},submitPublish:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}t.handleConfirm(t.ruleForm),e.next=6;break;case 4:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,Object(l["N"])(j({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1,this.searhParams=j({},this.formInline),this.getData()},getNowVersion:function(){var e=this;Object(l["C"])({app_version:"3.0.0"}).then((function(t){t.data&&t.data.version&&(e.serverVersion=t.data.version)}))}},created:function(){this.getNowVersion()}},E=I,z=(r("279f"),Object(p["a"])(E,x,k,!1,null,"3d1992e4",null)),B=z.exports,T=r("c1f7"),R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),r("el-table-column",{attrs:{prop:"name",label:"姓名"}}),r("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),r("el-table-column",{attrs:{prop:"qq",label:"QQ"}}),r("el-table-column",{attrs:{prop:"wechat",label:"微信"}}),r("el-table-column",{attrs:{prop:"note",label:"备注"}}),r("el-table-column",{attrs:{prop:"created_at",label:"提交时间"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},N=[];function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V={data:function(){return{loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],statusList:[],formInline:{},visible:!1,searhParams:{}}},methods:{handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},handleDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then(Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["A"])(e.id);case 2:a=r.sent,200==a.code&&t.getData();case 4:case"end":return r.stop()}}),r)}))))},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,Object(l["z"])(U({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1;var e=this.formInline.range&&this.formInline.range[0]?this.formInline.range[0]:void 0,t=this.formInline.range&&this.formInline.range[1]?this.formInline.range[1]:void 0;this.searhParams=U({},this.formInline,{range:void 0,start_time:e,end_time:t}),this.getData()}},created:function(){this.getData()}},Q=V,L=Object(p["a"])(Q,R,N,!1,null,null,null),M=L.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-trade",{attrs:{api:e.api}})},H=[],G=r("422f"),$={components:{vTrade:G["a"]},data:function(){return{api:{getWalletLogList:l["I"]}}}},Y=$,Z=Object(p["a"])(Y,q,H,!1,null,null,null),X=Z.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-wallet",{attrs:{api:e.api}})},W=[],ee=r("48a4"),te={components:{vWallet:ee["a"]},data:function(){return{api:{uploadFile:l["P"],getWalletConf:l["G"],addWalletConf:l["d"],editWalletConf:l["x"]}}}},re=te,ae=Object(p["a"])(re,K,W,!1,null,null,null),ne=ae.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-walletips",{attrs:{api:e.api}})},oe=[],se=r("5069"),le={components:{vWalletips:se["a"]},data:function(){return{api:{getWalletInfo:l["H"],addWalletInfo:l["e"],editWalletInfo:l["y"]}}}},ue=le,ce=Object(p["a"])(ue,ie,oe,!1,null,null,null),de=ce.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"card-header no-margin"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("el-form",{attrs:{inline:!1,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"声明内容："}},[r("v-editor",{model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),r("el-form-item",{attrs:{label:"是否开启："}},[r("el-switch",{attrs:{"active-color":"#409eff","active-value":"1","inactive-value":"0"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),r("el-form-item",{attrs:{label:" "}},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("立即保存")])],1)],1)],1)])},me=[],fe=r("ceb0"),ge={components:{vEditor:fe["a"]},data:function(){return{loading:!1,content:"",status:1,editId:null}},methods:{submitForm:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,t=JSON.stringify({status:this.status,content:this.content}),!this.editId){e.next=8;break}return e.next=5,Object(l["v"])(this.editId,t);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Object(l["b"])(t);case 10:e.t0=e.sent;case 11:r=e.t0,200==r.code&&this.$message.success("操作成功"),this.loading=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(l["E"])();case 3:if(t=e.sent,this.loading=!1,200==t.code&&t.data){this.editId=t.data.id;try{r=JSON.parse(t.data.value),a=r.status,n=r.content,this.content=n,this.status=a}catch(i){}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getData()}},he=ge,be=(r("5c81"),Object(p["a"])(he,pe,me,!1,null,"3bdb5590",null)),ve=be.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新 增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{attrs:{size:60,src:e.row.avatar},on:{error:function(){return!0}}},[a("img",{attrs:{src:r("6918")}})])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"login_name",label:"登陆名"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("span",{staticStyle:{color:"#67C23A"}},[e._v("启用")]):a("span",{staticStyle:{color:"#909399"}},[e._v("禁用")])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),1==t.row.status?a("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text"},on:{click:function(r){return e.handleStatus(t.row)}}},[e._v("禁用")]):a("el-button",{staticStyle:{color:"#67C23A"},attrs:{type:"text"},on:{click:function(r){return e.handleStatus(t.row)}}},[e._v("启用")]),a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:(e.ruleForm.id?"编辑":"新增")+"管理员",visible:e.dialogVisible,width:"480px","destroy-on-close":"",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],ref:"ruleForm",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"头像：",prop:"avatar"}},[a("v-upload",{ref:"upload_adm",attrs:{"auto-upload":!1,maxLens:1,UploadFile:e.UploadFile},on:{change:e.onFileChange},model:{value:e.ruleForm.avatar,callback:function(t){e.$set(e.ruleForm,"avatar",t)},expression:"ruleForm.avatar"}})],1),a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e.ruleForm.id?e._e():a("el-form-item",{attrs:{label:"登陆名称：",prop:"login_name"}},[a("el-input",{attrs:{placeholder:"请输入登陆名称",clearable:""},model:{value:e.ruleForm.login_name,callback:function(t){e.$set(e.ruleForm,"login_name",t)},expression:"ruleForm.login_name"}})],1),a("el-form-item",{attrs:{label:"登陆密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入登陆密码",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码：",prop:"password_confirmation"}},[a("el-input",{attrs:{placeholder:"请再次输入登陆密码",clearable:""},model:{value:e.ruleForm.password_confirmation,callback:function(t){e.$set(e.ruleForm,"password_confirmation",t)},expression:"ruleForm.password_confirmation"}})],1),a("el-form-item",{attrs:{label:" "}},[a("el-button",{staticStyle:{"margin-right":"40px"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1):e._e()],1)],1)},ye=[],Ae=r("d443");function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oe={components:{vUpload:Ae["a"]},data:function(){return{UploadFile:l["P"],loading:!1,loading2:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],dialogVisible:!1,formInline:{},searhParams:{},ruleForm:{}}},computed:{rules:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()},r=function(t,r,a){if(!e.ruleForm.password)return a();""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()},a=function(e,t,r){t&&t.length?r():r(new Error("请上传头像"))};return this.ruleForm.id?{password_confirmation:[{required:!0,validator:r,trigger:"blur"}]}:{avatar:[{required:!0,validator:a,trigger:"change"}],name:[{required:!0,message:"请输入管理员名称",trigger:"blur"}],login_name:[{required:!0,message:"请输入登录名称",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],password_confirmation:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{onFileChange:function(e){this.$refs.ruleForm.validateField("avatar")},handleDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then(Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["l"])(e.id);case 2:a=r.sent,200==a.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return r.stop()}}),r)}))))},handleStatus:function(e){var t=this,r=e.id,a=e.status;this.$confirm("即将".concat(1==a?"禁用":"启用",", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["m"])(r,{status:1==a?-1:1});case 2:n=e.sent,200==n.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return e.stop()}}),e)}))))},handleAdd:function(){this.ruleForm={name:"",login_name:"",password_confirmation:"",password:"",avatar:[]},this.dialogVisible=!0},handleEdit:function(e){var t=e.id,r=e.name,a=e.avatar;this.ruleForm={id:t,name:r,avatar:[{url:a}]},this.dialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){var a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=26;break}if(t.loading2=!0,a=t.ruleForm.avatar&&t.ruleForm.avatar[0]?t.ruleForm.avatar[0].raw:null,n="",!a){e.next=11;break}return e.next=7,t.$refs.upload_adm.submit(a);case 7:i=e.sent,n=200==i.code&&i.data?i.data.url:"",e.next=12;break;case 11:n=t.ruleForm.avatar.map((function(e){return e.url})).join(",");case 12:if(!t.ruleForm.id){e.next=18;break}return e.next=15,Object(l["m"])(t.ruleForm.id,ke({},t.ruleForm.name?{name:t.ruleForm.name}:{},{},t.ruleForm.avatar?{avatar:n}:{}));case 15:e.t0=e.sent,e.next=21;break;case 18:return e.next=20,Object(l["f"])(ke({},t.ruleForm,{avatar:n}));case 20:e.t0=e.sent;case 21:o=e.t0,t.loading2=!1,200==o.code&&(t.dialogVisible=!1,t.$message.success("操作成功"),t.getData()),e.next=28;break;case 26:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,Object(l["n"])(ke({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1,this.searhParams=ke({},this.formInline),this.getData()}},created:function(){this.getData()}},_e=Oe,Se=Object(p["a"])(_e,we,ye,!1,null,null,null),Fe=Se.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新 增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{attrs:{size:60,src:e.row.avatar},on:{error:function(){return!0}}},[a("img",{attrs:{src:r("6918")}})])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"login_name",label:"登陆名"}}),a("el-table-column",{attrs:{prop:"tag",label:"标识"}}),a("el-table-column",{attrs:{prop:"account_days",label:"账户余额(天)"}}),a("el-table-column",{attrs:{prop:"effective_num",label:"有效店铺"}}),a("el-table-column",{attrs:{prop:"expire_num",label:"过期店铺"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["enable"==t.row.status?a("span",{staticStyle:{color:"#67C23A"}},[e._v("启用")]):a("span",{staticStyle:{color:"#909399"}},[e._v("禁用")])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),"enable"==t.row.status?a("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text"},on:{click:function(r){return e.handleStatus(t.row)}}},[e._v("禁用")]):a("el-button",{staticStyle:{color:"#67C23A"},attrs:{type:"text"},on:{click:function(r){return e.handleStatus(t.row)}}},[e._v("启用")]),a("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{staticStyle:{color:"#67C23A","margin-left":"0"},attrs:{type:"text"},on:{click:function(r){return e.handleSet(t.row)}}},[e._v("加时")]),a("el-button",{staticStyle:{color:"#ffd04b"},attrs:{type:"text"},on:{click:function(r){return e.handleJump(t.row)}}},[e._v("进入店铺")]),a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"text"},on:{click:function(r){return e.handleTrade(t.row)}}},[e._v("余额变动记录")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:(e.ruleForm.id?"编辑":"新增")+"代理商",visible:e.dialogVisible,width:"480px","destroy-on-close":"",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],ref:"ruleForm",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"头像：",prop:"avatar"}},[a("v-upload",{ref:"upload_agent",attrs:{maxLens:1,"auto-upload":!1,UploadFile:e.UploadFile},on:{change:e.onFileChange},model:{value:e.ruleForm.avatar,callback:function(t){e.$set(e.ruleForm,"avatar",t)},expression:"ruleForm.avatar"}})],1),a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e.ruleForm.id?e._e():a("el-form-item",{attrs:{label:"登陆名称：",prop:"login_name"}},[a("el-input",{attrs:{placeholder:"请输入登陆名称",clearable:""},model:{value:e.ruleForm.login_name,callback:function(t){e.$set(e.ruleForm,"login_name",t)},expression:"ruleForm.login_name"}})],1),a("el-form-item",{attrs:{label:"登陆密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入登陆密码",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码：",prop:"password_confirmation"}},[a("el-input",{attrs:{placeholder:"请再次输入登陆密码",clearable:""},model:{value:e.ruleForm.password_confirmation,callback:function(t){e.$set(e.ruleForm,"password_confirmation",t)},expression:"ruleForm.password_confirmation"}})],1),e.ruleForm.id?e._e():a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-radio-group",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.options,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1),a("el-form-item",{attrs:{label:" "}},[a("el-button",{staticStyle:{"margin-right":"40px"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1):e._e()],1),a("el-drawer",{attrs:{title:"",visible:e.accountVisible,size:"80%",direction:"rtl","destroy-on-close":"",wrapperClosable:!0},on:{"update:visible":function(t){e.accountVisible=t}}},[a("div",{staticClass:"drawer__wrapper",staticStyle:{padding:"0 20px"}},[a("div",{staticClass:"drawer__content"},[e.accountVisible?a("vAccount",{attrs:{info:e.activeAgent}}):e._e()],1)])])],1)},Pe=[],je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-account",{attrs:{api:e.api,info:e.info}})},De=[],Ie=r("889f"),Ee={props:{info:{type:Object,default:function(){return null}}},components:{vAccount:Ie["a"]},data:function(){return{api:{getAccountLogList:l["B"]}}}},ze=Ee,Be=Object(p["a"])(ze,je,De,!1,null,null,null),Te=Be.exports;function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je={components:{vUpload:Ae["a"],vAccount:Te},data:function(){return{UploadFile:l["P"],loading:!1,loading2:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],dialogVisible:!1,formInline:{},searhParams:{},ruleForm:{},options:[{name:"启用",value:"enable"},{name:"禁用",value:"disable"}],accountVisible:!1,activeAgent:null}},computed:{rules:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()},r=function(t,r,a){if(!e.ruleForm.password)return a();""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()},a=function(e,t,r){t&&t.length?r():r(new Error("请上传头像"))};return this.ruleForm.id?{password_confirmation:[{required:!0,validator:r,trigger:"blur"}]}:{avatar:[{required:!0,validator:a,trigger:"change"}],name:[{required:!0,message:"请输入管理员名称",trigger:"blur"}],login_name:[{required:!0,message:"请输入登录名称",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],password_confirmation:[{required:!0,validator:t,trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{handleTrade:function(e){var t=e.id,r=e.name;this.activeAgent={id:t,name:r,title:"代理商余额变动记录"},this.accountVisible=!0},handleSet:function(e){var t=this,r=e.id;this.$prompt("请输入天数","提示",{confirmButtonText:"确定",closeOnClickModal:!1,closeOnPressEscape:!1,cancelButtonText:"取消",inputValue:"0",inputPattern:/^[\+|-]?[0-9][0-9]*([\.][0-9]{1})?$/,inputErrorMessage:"格式不正确"}).then(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.value,e.next=3,Object(l["j"])(r,{days:n});case 3:i=e.sent,200==i.code&&(t.$message.success("操作成功"),t.getData());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){}))},handleJump:function(e){var t=e.id;this.$router.push("/agent/".concat(t,"/shop"))},onFileChange:function(e){this.$refs.ruleForm.validateField("avatar")},handleDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then(Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["h"])(e.id);case 2:a=r.sent,200==a.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return r.stop()}}),r)}))))},handleStatus:function(e){var t=this,r=e.id,a=e.status;this.$confirm("即将".concat("enable"==a?"禁用":"启用",", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["i"])(r,{status:"enable"==a?"disable":"enable"});case 2:n=e.sent,200==n.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return e.stop()}}),e)}))))},handleAdd:function(){this.ruleForm={name:"",login_name:"",password_confirmation:"",password:"",avatar:[]},this.dialogVisible=!0},handleEdit:function(e){var t=e.id,r=e.name,a=e.avatar;this.ruleForm={id:t,name:r,avatar:[{url:a}]},this.dialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){var a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=26;break}if(t.loading2=!0,a=t.ruleForm.avatar&&t.ruleForm.avatar[0]?t.ruleForm.avatar[0].raw:null,n="",!a){e.next=11;break}return e.next=7,t.$refs.upload_agent.submit(a);case 7:i=e.sent,n=200==i.code&&i.data?i.data.url:"",e.next=12;break;case 11:n=t.ruleForm.avatar.map((function(e){return e.url})).join(",");case 12:if(!t.ruleForm.id){e.next=18;break}return e.next=15,Object(l["i"])(t.ruleForm.id,Ne({},t.ruleForm.name?{name:t.ruleForm.name}:{},{},t.ruleForm.avatar?{avatar:n}:{}));case 15:e.t0=e.sent,e.next=21;break;case 18:return e.next=20,Object(l["g"])(Ne({},t.ruleForm,{avatar:n}));case 20:e.t0=e.sent;case 21:o=e.t0,t.loading2=!1,200==o.code&&(t.dialogVisible=!1,t.$message.success("操作成功"),t.getData()),e.next=28;break;case 26:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,Object(l["k"])(Ne({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1,this.searhParams=Ne({},this.formInline),this.getData()}},created:function(){this.getData()}},Ue=Je,Ve=Object(p["a"])(Ue,Ce,Pe,!1,null,null,null),Qe=Ve.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),r("el-form",{attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"标题："}},[r("el-input",{attrs:{placeholder:"请输入店铺名称",size:"small",clearable:""},model:{value:e.formInline.title,callback:function(t){e.$set(e.formInline,"title",t)},expression:"formInline.title"}})],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"位置："}},[r("el-select",{attrs:{placeholder:"请选择位置",clearable:"",size:"small"},model:{value:e.formInline.position,callback:function(t){e.$set(e.formInline,"position",t)},expression:"formInline.position"}},e._l(e.positionOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"状态："}},[r("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.statusOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"0"}},[r("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("查 询")]),r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新 增")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),r("el-table-column",{attrs:{prop:"title",label:"标题"}}),r("el-table-column",{attrs:{prop:"image",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-image",{attrs:{src:t.row.image,"preview-src-list":e.srcList}},[r("div",{attrs:{slot:"error"},slot:"error"},[r("i",{staticClass:"el-icon-picture-outline"})])])]}}])}),r("el-table-column",{attrs:{prop:"position",label:"位置"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.filterOpt(e.positionOptions,t.row.position)))])]}}])}),r("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{style:{color:"enable"==t.row.status?"#67C23A":"#909399"}},[e._v(e._s(e.filterOpt(e.statusOptions,t.row.status)))])]}}])}),r("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),r("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-dialog",{attrs:{title:(e.ruleForm.id?"编辑":"新增")+"广告",visible:e.dialogVisible,width:"480px","destroy-on-close":"",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],ref:"ruleForm",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"图片：",prop:"image"}},[r("v-upload",{ref:"upload_ads",attrs:{maxLens:1,"auto-upload":!1,UploadFile:e.UploadFile},on:{change:e.onFileChange},model:{value:e.ruleForm.image,callback:function(t){e.$set(e.ruleForm,"image",t)},expression:"ruleForm.image"}})],1),r("el-form-item",{attrs:{label:"标题：",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入题",clearable:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"位置：",prop:"position"}},[r("el-select",{attrs:{placeholder:"请选择位置",clearable:""},model:{value:e.ruleForm.position,callback:function(t){e.$set(e.ruleForm,"position",t)},expression:"ruleForm.position"}},e._l(e.positionOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"开始时间：",prop:"start_time"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择开始时间","picker-options":{disabledDate:function(t){return e.disabledDate(t,"start_time")}}},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1),r("el-form-item",{attrs:{label:"结束时间：",prop:"end_time"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择结束时间","picker-options":{disabledDate:function(t){return e.disabledDate(t,"end_time")}}},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1),r("el-form-item",{attrs:{label:"状态：",prop:"status"}},[r("el-radio-group",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statusOptions,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1),r("el-form-item",{attrs:{label:" "}},[r("el-button",{staticStyle:{"margin-right":"40px"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1):e._e()],1)],1)},Me=[];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge={components:{vUpload:Ae["a"]},data:function(){return{UploadFile:l["P"],loading:!1,loading2:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],dialogVisible:!1,formInline:{},searhParams:{},ruleForm:{image:[]},positionOptions:[{name:"首页",value:"index"},{name:"底部",value:"bottom"}],statusOptions:[{name:"启用",value:"enable"},{name:"禁用",value:"disable"}]}},computed:{srcList:function(){return this.tableData.map((function(e){return e.image}))},rules:function(){var e=function(e,t,r){t&&t.length?r():r(new Error("请上传图片"))};return{image:[{required:!0,validator:e,trigger:"change"}],title:[{required:!0,message:"请输入名称",trigger:"blur"}],position:[{required:!0,message:"请选择位置",trigger:"change"}],start_time:[{required:!0,message:"请选择开始时间",trigger:"change"}],end_time:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{disabledDate:function(e,t){return"end_time"==t?new Date(this.ruleForm.start_time).getTime()>new Date(e).getTime():"start_time"==t?new Date(e).getTime()>new Date(this.ruleForm.end_time).getTime():void 0},filterOpt:function(e,t){var r=e.filter((function(e){return e.value==t}))[0];return r?r.name:"--"},onFileChange:function(e){this.$refs.ruleForm.validateField("image")},handleDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then(Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["r"])(e.id);case 2:a=r.sent,200==a.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return r.stop()}}),r)}))))},handleStatus:function(e){var t=this,r=e.id,a=e.status;this.$confirm("即将".concat("enable"==a?"禁用":"启用",", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["s"])(r,{status:"enable"==a?"disable":"enable"});case 2:n=e.sent,200==n.code&&(t.$message({type:"success",message:"操作成功!"}),t.getData());case 4:case"end":return e.stop()}}),e)}))))},handleAdd:function(){this.ruleForm=Object(i["a"])({image:"",title:"",status:"",position:"",start_time:"",end_time:""},"image",[]),this.dialogVisible=!0},handleEdit:function(e){var t=e.id,r=e.title,a=e.status,n=e.position,i=e.image,o=e.start_time,s=e.end_time;this.ruleForm={id:t,title:r,status:a,position:n,image:[{url:i}],start_time:o,end_time:s},this.dialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){var a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=26;break}if(t.loading2=!0,a=t.ruleForm.image[0]?t.ruleForm.image[0].raw:null,n="",!a){e.next=11;break}return e.next=7,t.$refs.upload_ads.submit(a);case 7:i=e.sent,n=200==i.code&&i.data?i.data.url:"",e.next=12;break;case 11:n=t.ruleForm.image.map((function(e){return e.url})).join(",");case 12:if(!t.ruleForm.id){e.next=18;break}return e.next=15,Object(l["s"])(t.ruleForm.id,He({},t.ruleForm,{image:n}));case 15:e.t0=e.sent,e.next=21;break;case 18:return e.next=20,Object(l["q"])(He({},t.ruleForm,{image:n}));case 20:e.t0=e.sent;case 21:o=e.t0,t.loading2=!1,200==o.code&&(t.dialogVisible=!1,t.$message.success("操作成功"),t.getData()),e.next=28;break;case 26:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,Object(l["t"])(He({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1,this.searhParams=He({},this.formInline),this.getData()}},created:function(){this.getData()}},$e=Ge,Ye=Object(p["a"])($e,Le,Me,!1,null,null,null),Ze=Ye.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-tab"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"40px"}},[r("el-form-item",{attrs:{label:"",prop:"content"}},[r("el-input-number",{attrs:{label:"请输入转换比例",min:0},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitPublish("ruleForm")}}},[e._v("保 存")])],1)],1)],1)])},Ke=[],We={data:function(){return{loading:!1,fileUrl:"",editId:null,U2dayId:null,ruleForm:{content:""},rules:{content:{required:!0,message:"请输入转换比例",trigger:"change"}}}},methods:{submitPublish:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}if(t.loading=!0,!t.editId){e.next=8;break}return e.next=5,Object(l["w"])(t.editId,t.ruleForm.content);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Object(l["c"])(t.ruleForm.content);case 10:e.t0=e.sent;case 11:a=e.t0,t.loading=!1,200==a.code&&t.$message.success("操作成功"),e.next=18;break;case 16:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["F"])();case 2:t=e.sent,this.loading=!1,200==t.code&&t.data&&(this.editId=t.data.id,this.ruleForm.content=t.data.value);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getData()}},et=We,tt=Object(p["a"])(et,Xe,Ke,!1,null,null,null),rt=tt.exports,at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-tab"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"40px"}},[r("el-form-item",{attrs:{label:"",prop:"content"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{label:"请输入联系方式"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitPublish("ruleForm")}}},[e._v("保 存")])],1)],1)],1)])},nt=[],it={data:function(){return{loading:!1,fileUrl:"",editId:null,ContactId:null,ruleForm:{content:""},rules:{content:{required:!0,message:"请输入联系方式",trigger:"blur"}}}},methods:{submitPublish:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}if(t.loading=!0,!t.editId){e.next=8;break}return e.next=5,Object(l["u"])(t.editId,t.ruleForm.content);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Object(l["a"])(t.ruleForm.content);case 10:e.t0=e.sent;case 11:a=e.t0,t.loading=!1,200==a.code&&t.$message.success("操作成功"),e.next=18;break;case 16:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getData:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["D"])();case 2:t=e.sent,this.loading=!1,200==t.code&&t.data&&(this.editId=t.data.id,this.ruleForm.content=t.data.value);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getData()}},ot=it,st=Object(p["a"])(ot,at,nt,!1,null,null,null),lt=st.exports,ut=[{path:"/index",name:"index",component:T["a"],redirect:"/agent",meta:{title:"首页"},children:[{path:"/agent",name:"agent",component:Qe,meta:{title:"代理商管理",icon:"el-icon-connection"}},{path:"/agent/:aid/shop",name:"agent_shop",component:A,meta:{title:"店铺列表",hideInMenu:"/agent",icon:"el-icon-s-shop"}},{path:"/agent/:aid/:sid/order",name:"agent_order",component:f,meta:{title:"店铺订单",hideInMenu:"/agent",icon:"el-icon-s-order"}},{path:"/admin",name:"admin",component:Fe,meta:{title:"系统管理员",icon:"el-icon-user"}},{path:"/publish",name:"publish",component:B,meta:{title:"客户端管理",icon:"el-icon-upload"}},{path:"/trade",name:"trade",component:X,meta:{title:"钱包记录",icon:"el-icon-s-ticket"}},{path:"/wallet",name:"wallet",component:ne,meta:{title:"钱包设置",icon:"el-icon-wallet"}},{path:"/walletip",name:"walletip",component:de,meta:{title:"钱包说明",icon:"el-icon-bell"}},{path:"/u2day",name:"u2day",component:rt,meta:{title:"U转天数",icon:"el-icon-attract"}},{path:"/statement",name:"statement",component:ve,meta:{title:"系统声明",icon:"el-icon-reading"}},{path:"/contactus",name:"contactus",component:lt,meta:{title:"联系我们",icon:"el-icon-phone-outline"}},{path:"/ads",name:"ads",component:Ze,meta:{title:"广告配置",icon:"el-icon-picture"}},{path:"/expire",name:"expire",component:M,meta:{title:"过期店铺",icon:"el-icon-takeaway-box"}}]}];function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e){var t=e.meta||{};return e.meta.hideInMenu?null:{path:e.path,name:e.name,meta:dt({icon:"BarsOutlined"},t)}}function mt(e){var t=[];return e.map((function(e){var r=pt(e);if(r&&e.children){var a=mt(e.children);if(1==a.length){var n=a[0],i=n.path,o=n.name;r={path:i,name:o,meta:r.meta}}else r.children=a}r&&t.push(r)})),t}var ft={state:{menus:[]},mutations:{SET_AUTH:function(e,t){e.auth=t},SET_MENU:function(e,t){e.menus=t}},actions:{GenerateMenus:function(e,t){var r=e.commit,a=t.allRoutes;return new Promise((function(e){var t=mt(a[0].children);r("SET_MENU",t),e(t)}))},GenerateRoutes:function(e,t){var r=e.commit;return new Promise((function(e){if(!t)return r("SET_MENU",[]),e(null);var a=ut;e(a)}))}}},gt=ft,ht=function(e,t){var r="__admin_token__";if("set"!=e)return localStorage.getItem(r);t?localStorage.setItem(r,t):localStorage.removeItem(r)},bt=function(e,t){var r="__adminname__";return r?"set"!=e?localStorage.getItem(r):void(t?localStorage.setItem(r,t):localStorage.removeItem(r)):null},vt=bt("get"),wt={state:{token:ht("get"),username:vt,hello:"",auth:[],roles:[],userInfo:null},mutations:{SET_TOKEN:function(e,t){e.token=t,ht("set",t)},SET_AUTH:function(e,t){e.auth=t},SET_WELCOME:function(e,t){e.welcome=t},SET_HELLO:function(e,t){e.hello=t},SET_USERINFO:function(e,t){e.userInfo=t},SET_USERNAME:function(e,t){e.username=t,e.isSuper="admin"===t,bt("set",t)}},actions:{GetInfo:function(e){var t=e.commit,r=e.state;return new Promise((function(e){Object(l["Q"])().then((function(a){if(200===a.code){var n={name:r.username};t("SET_AUTH",[]),t("SET_USERINFO",n),e(n)}else e(null)})).catch((function(t){e(null)}))}))},Logout:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",null),t("SET_USERINFO",null),t("SET_AUTH",[]),e()}))}}},yt=new n["default"],At={state:{title:"宠物之家总平台",collapsed:document.body.clientWidth<1500,reload:!1,bgColor:"#324157",actColor:"#ffd04b"},mutations:{SET_COLLAPSED:function(e,t){e.collapsed=!e.collapsed},SET_RELOAD:function(e){e.reload=!0,yt.$nextTick((function(){e.reload=!1}))}}};n["default"].use(a["a"]);t["a"]=new a["a"].Store({modules:{permission:gt,user:wt,layout:At},state:{},mutations:{},actions:{}})},"48a4":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleAdd}},[e._v("新增地址")])],1),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-tab"},[r("el-form",{ref:"ruleForm",attrs:{"label-width":"100px"}},[e._l(e.addressList,(function(t,a){return r("el-form-item",{key:t.id,attrs:{label:"地址"+(a+1)+"："}},[e.loadOver?r("v-upload",{ref:"upload_"+t.id,refInFor:!0,attrs:{maxLens:1,"auto-upload":!1,UploadFile:e.api.uploadFile},model:{value:t.image,callback:function(r){e.$set(t,"image",r)},expression:"item.image"}}):e._e(),r("el-input",{staticStyle:{width:"400px"},attrs:{type:"text",size:"medium",placeholder:"请输入钱包地址"},model:{value:t.address,callback:function(r){e.$set(t,"address",r)},expression:"item.address"}}),r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",size:"small"},on:{click:function(r){return e.handleDel(t)}}},[e._v("删除本条")])],1)})),e.addressList.length?r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleConfirm}},[e._v("保 存")])],1):e._e()],2)],1)])},n=[],i=(r("8e6e"),r("456d"),r("bd86")),o=(r("20d6"),r("ac4d"),r("8a81"),r("ac6a"),r("96cf"),r("3b8d")),s=r("d443");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={components:{vUpload:s["a"]},props:{api:{type:Object,default:function(){}}},data:function(){return{loadOver:!1,loading:!1,editId:null,walletId:null,fileList:[],addressList:[]}},methods:{genId:function(){return(new Date).getTime()+"_"+parseInt(1e6*Math.random())},onFileChange:function(e){this.fileList=e},handleAdd:function(){this.addressList.push({id:this.genId(),image:[],address:""})},handleConfirm:function(){var e=this;this.$confirm("确认提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o,s,l,u,c,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],e.loading=!0,a=!0,n=!1,i=void 0,t.prev=5,o=e.addressList[Symbol.iterator]();case 7:if(a=(s=o.next()).done){t.next=23;break}if(l=s.value,u=l.image[0]?l.image[0].raw:null,c="",!u){t.next=18;break}return t.next=14,e.$refs["upload_".concat(l.id)][0].submit(u);case 14:d=t.sent,c=200==d.code&&d.data?d.data.url:"",t.next=19;break;case 18:c=l.image.map((function(e){return e.url})).join(",");case 19:r.push({image:c,address:l.address});case 20:a=!0,t.next=7;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](5),n=!0,i=t.t0;case 29:t.prev=29,t.prev=30,a||null==o.return||o.return();case 32:if(t.prev=32,!n){t.next=35;break}throw i;case 35:return t.finish(32);case 36:return t.finish(29);case 37:if(!e.walletId){t.next=43;break}return t.next=40,e.api.editWalletConf(e.walletId,JSON.stringify(r));case 40:t.t1=t.sent,t.next=46;break;case 43:return t.next=45,e.api.addWalletConf(JSON.stringify(r));case 45:t.t1=t.sent;case 46:p=t.t1,200==p.code&&e.$message.success("操作成功"),e.loading=!1;case 49:case"end":return t.stop()}}),t,null,[[5,25,29,37],[30,,32,36]])}))))},handleDel:function(e){var t=this,r=e.id;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.addressList.findIndex((function(e){return e.id==r}));t.addressList.splice(e,1)}))},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.api.getWalletConf();case 2:if(r=e.sent,this.loading=!1,200==r.code&&r.data){this.walletId=r.data.id;try{this.addressList=(JSON.parse(r.data.value)||[]).map((function(e){return u({},e,{image:[{url:e.image}],id:a.genId()})}))}catch(n){}}t&&t();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){var e=this;this.getData((function(){return e.loadOver=!0}))}},d=c,p=r("2877"),m=Object(p["a"])(d,a,n,!1,null,null,null);t["a"]=m.exports},5069:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-tab"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"40px"}},[r("el-form-item",{attrs:{label:"",prop:"content"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,placeholder:"请输入说明内容"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitPublish("ruleForm")}}},[e._v("保 存")])],1)],1)],1)])},n=[],i=(r("96cf"),r("3b8d")),o={props:{api:{type:Object,default:function(){}}},data:function(){return{loading:!1,fileUrl:"",editId:null,walletId:null,ruleForm:{content:""},rules:{content:{required:!0,message:"请输入说明内容",trigger:"blur"}}}},methods:{submitPublish:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}if(t.loading=!0,!t.editId){e.next=8;break}return e.next=5,t.api.editWalletInfo(t.editId,t.ruleForm.content);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,t.api.addWalletInfo(t.ruleForm.content);case 10:e.t0=e.sent;case 11:a=e.t0,t.loading=!1,200==a.code&&t.$message.success("操作成功"),e.next=18;break;case 16:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.api.getWalletInfo();case 2:t=e.sent,this.loading=!1,200==t.code&&t.data&&(this.editId=t.data.id,this.ruleForm.content=t.data.value);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.getData()}},s=o,l=r("2877"),u=Object(l["a"])(s,a,n,!1,null,null,null);t["a"]=u.exports},"525a":function(e,t,r){"use strict";var a=r("b890"),n=r.n(a);n.a},"52be":function(e,t,r){"use strict";var a=r("2b0e"),n=r("5c96");a["default"].use(n["Avatar"]),a["default"].use(n["TimePicker"]),a["default"].use(n["Empty"]),a["default"].use(n["Col"]),a["default"].use(n["Row"]),a["default"].use(n["Drawer"]),a["default"].use(n["Pagination"]),a["default"].use(n["BreadcrumbItem"]),a["default"].use(n["Breadcrumb"]),a["default"].use(n["Dialog"]),a["default"].use(n["Dropdown"]),a["default"].use(n["DropdownMenu"]),a["default"].use(n["DropdownItem"]),a["default"].use(n["Menu"]),a["default"].use(n["Submenu"]),a["default"].use(n["MenuItem"]),a["default"].use(n["MenuItemGroup"]),a["default"].use(n["Input"]),a["default"].use(n["InputNumber"]),a["default"].use(n["Radio"]),a["default"].use(n["RadioGroup"]),a["default"].use(n["RadioButton"]),a["default"].use(n["Checkbox"]),a["default"].use(n["CheckboxButton"]),a["default"].use(n["CheckboxGroup"]),a["default"].use(n["Switch"]),a["default"].use(n["Select"]),a["default"].use(n["Option"]),a["default"].use(n["OptionGroup"]),a["default"].use(n["Button"]),a["default"].use(n["ButtonGroup"]),a["default"].use(n["Table"]),a["default"].use(n["TableColumn"]),a["default"].use(n["DatePicker"]),a["default"].use(n["Tooltip"]),a["default"].use(n["Form"]),a["default"].use(n["FormItem"]),a["default"].use(n["Tag"]),a["default"].use(n["Alert"]),a["default"].use(n["Icon"]),a["default"].use(n["Badge"]),a["default"].use(n["Card"]),a["default"].use(n["Container"]),a["default"].use(n["Header"]),a["default"].use(n["Aside"]),a["default"].use(n["Main"]),a["default"].use(n["Footer"]),a["default"].use(n["Image"]),a["default"].use(n["Backtop"]),a["default"].use(n["PageHeader"]),a["default"].use(n["Loading"].directive),a["default"].use(n["Tabs"]),a["default"].use(n["TabPane"]),a["default"].use(n["Upload"]),a["default"].prototype.$loading=n["Loading"].service,a["default"].prototype.$msgbox=n["MessageBox"],a["default"].prototype.$alert=n["MessageBox"].alert,a["default"].prototype.$confirm=n["MessageBox"].confirm,a["default"].prototype.$prompt=n["MessageBox"].prompt,a["default"].prototype.$notify=n["Notification"],a["default"].prototype.$message=n["Message"]},"5c81":function(e,t,r){"use strict";var a=r("cae6"),n=r.n(a);n.a},6918:function(e,t,r){e.exports=r.p+"static/img/avator.6861a97a.png"},"830b":function(e,t,r){"use strict";var a=r("ccd6"),n=r.n(a);n.a},"889f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[e._v(e._s(e.info?e.info.title:e.$route.meta.title))])]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[e.info?r("el-table-column",{attrs:{prop:"id",label:"店铺名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.info.name)+"\n      ")]}}],null,!1,1393776410)}):e._e(),r("el-table-column",{attrs:{prop:"start_days",label:"变动前天数"}}),r("el-table-column",{attrs:{prop:"end_days",label:"变动后天数"}}),r("el-table-column",{attrs:{prop:"days",label:"变动天数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.end_days-t.row.start_days>0?r("span",{staticStyle:{color:"#67C23A"}},[e._v("\n         + "+e._s(t.row.days)+"\n        ")]):r("span",{staticStyle:{color:"#F56C6C"}},[e._v("\n          - "+e._s(t.row.days)+"\n       ")])]}}])}),r("el-table-column",{attrs:{prop:"type",label:"变动方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s((e.typeOptions.filter((function(e){return e.value==t.row.type}))[0]||{title:"--"})["title"]))])]}}])}),r("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("96cf"),r("3b8d")),s=(r("c5f6"),r("5a0c")),l=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={props:{api:{type:Object,default:function(){}},info:{type:Object,default:function(){return null}}},data:function(){return{loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],statusList:[],formInline:{},visible:!1,searhParams:{},dialogVisible:!1,typeOptions:[{title:"管理员充值",value:"admin_charge"},{title:"店铺加时",value:"shop_reduce"},{title:"U充值",value:"u_charge"}]}},methods:{formatDateTime:function(e){return l()(new Date(Number(e))).format("YYYY-MM-DD HH:mm:ss")},formatMoney:function(e){return(Number(e)/1e6).toFixed(2)},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.api.getAccountLogList(c({num:this.pageSize,page:this.currentPage},this.info?{agent_id:this.info.id}:{},{},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1;var e=this.formInline.range&&this.formInline.range[0]?this.formInline.range[0]:void 0,t=this.formInline.range&&this.formInline.range[1]?this.formInline.range[1]:void 0;this.searhParams=c({},this.formInline,{range:void 0,start_time:e,end_time:t}),this.getData()}},created:function(){this.getData()}},p=d,m=r("2877"),f=Object(m["a"])(p,a,n,!1,null,null,null);t["a"]=f.exports},9260:function(e,t,r){"use strict";var a=r("e85d"),n=r.n(a);n.a},"99a1":function(e,t,r){"use strict";var a=r("c02e"),n=r.n(a);n.a},a10a:function(e,t){e.exports="data:image/png;base64,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"},a18c:function(e,t,r){"use strict";var a=r("2b0e"),n=r("8c4f"),i=r("a1b7"),o=n["a"].prototype.push;n["a"].prototype.push=function(e,t,r){return t||r?o.call(this,e,t,r):o.call(this,e).catch((function(e){return e}))},a["default"].use(n["a"]),t["a"]=new n["a"]({routes:i["a"]})},a1b7:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-login"},[r("div",{staticClass:"ms-title"},[e._v(e._s(e.$store.state.layout.title)+"登录")]),r("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.param,rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"m_account"}},[r("el-input",{attrs:{maxlength:"11",placeholder:"请输入用户名"},model:{value:e.param.m_account,callback:function(t){e.$set(e.param,"m_account",t)},expression:"param.m_account"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-user"},slot:"prepend"})],1)],1),r("el-form-item",{attrs:{prop:"m_password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}},model:{value:e.param.m_password,callback:function(t){e.$set(e.param,"m_password",t)},expression:"param.m_password"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),r("div",{staticClass:"login-btn"},[r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("登 录")])],1)],1)],1)])},n=[],i=(r("a481"),r("96cf"),r("3b8d")),o=r("365c"),s={data:function(){return{loading:!1,param:{m_account:this.$store.state.user.username,m_password:""},rules:{m_account:[{required:!0,message:"请输入账号",trigger:"blur"}],m_password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(){var e=this;this.$refs.login.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return e.loading=!0,t.next=4,Object(o["J"])({login_name:e.param.m_account,password:e.param.m_password});case 4:a=t.sent,e.loading=!1,200==a.code&&(e.$message.success("登录成功"),e.$store.commit("SET_TOKEN",a.data.token),e.$store.commit("SET_USERNAME",e.param.m_account),e.$store.commit("SET_AUTH",[]),e.$store.commit("SET_USERINFO",null),e.$router.replace("/index")),t.next=11;break;case 9:return e.$message.error("请输入账号和密码"),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},l=s,u=(r("9260"),r("2877")),c=Object(u["a"])(l,a,n,!1,null,"7d9b8722",null),d=c.exports;t["a"]=[{path:"/",redirect:"/index"},{path:"/login",name:"login",component:d,meta:{title:"登录"}},{path:"/403",name:"403",component:function(){return r.e("chunk-09cd9940").then(r.bind(null,"4311"))},meta:{title:"403",hidden:!1}},{path:"/404",name:"404",component:function(){return r.e("chunk-50533e0b").then(r.bind(null,"ee5d"))},meta:{title:"404",hidden:!1}}]},b890:function(e,t,r){},be5e:function(e,t){e.exports="data:image/png;base64,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"},c02e:function(e,t,r){},c1f7:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"layout-container"},[r("v-sidebar"),r("el-container",[r("el-header",{staticStyle:{padding:"0"},attrs:{height:"54px"}},[r("v-header")],1),r("el-main",{staticClass:"main-container"},[r("transition",{attrs:{name:"move",mode:"out-in"}},[e.$store.state.layout.reload?e._e():r("router-view",{key:e.$route.path})],1),r("el-backtop",{attrs:{target:".main-container"}})],1)],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("div",{staticClass:"collapse-btn",on:{click:function(t){return e.$store.commit("SET_COLLAPSED")}}},[e.$store.state.layout.collapsed?a("i",{staticClass:"el-icon-s-unfold"}):a("i",{staticClass:"el-icon-s-fold"})]),a("el-breadcrumb",{attrs:{separator:"/"}},[e._l(e.routerMatch,(function(t,r){return[r+1==e.routerMatch.length?["agent_order"==e.$route.name?a("el-breadcrumb-item",{key:r},[a("router-link",{attrs:{to:"/agent/"+e.$route.params.aid+"/shop"}},[e._v("店铺列表")])],1):e._e(),a("el-breadcrumb-item",{key:r},[a("span",[e._v(e._s(t.meta.title))])])]:a("el-breadcrumb-item",{key:r+1e3},[a("router-link",{attrs:{to:t.path}},[e._v(e._s(t.meta.title))])],1)]}))],2)],1),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[a("div",{staticClass:"btn-fullscreen",staticStyle:{"margin-right":"10px"},on:{click:e.handleReload}},[a("el-tooltip",{attrs:{effect:"dark",content:"刷新",placement:"bottom"}},[a("i",{staticClass:"el-icon-refresh"})])],1),a("div",{staticClass:"user-avator"},[a("el-avatar",{attrs:{size:30,src:e.userInfo.avatar},on:{error:function(){return!0}}},[e.isAgent?a("img",{attrs:{src:r("07b8")}}):a("img",{attrs:{src:r("6918")}})])],1),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"hover"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e.userInfo.name?a("span",[e._v(e._s(e.userInfo.name)),e.isAgent?[e._v("(剩余:"+e._s(e.userInfo.account_days)+"天)")]:e._e()],2):e._e(),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.isAgent?a("el-dropdown-item",{attrs:{command:"recharge"}},[e._v("充值天数")]):e._e(),e.isAgent?a("el-dropdown-item",{attrs:{command:"setinfo"}},[e._v("修改信息")]):e._e(),a("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[e._v("退出登录")])],1)],1)],1)])])},o=[],s=(r("a481"),r("96cf"),r("3b8d")),l={data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.password?a(new Error("两次输入密码不一致!")):a()};return{dialogVisible:!1,fullscreen:!1,shopName:"",ruleForm:{password_confirmation:"",password:""},rules:{password:[{required:!0,message:"请输入登录名",trigger:"blur"}],password_confirmation:[{required:!0,validator:t,trigger:"blur"}]}}},computed:{routerMatch:function(){return this.$route.matched},userInfo:function(){return this.$store.state.user.userInfo},isAgent:function(){return"agency"==this.$store.state.user.type}},methods:{handleLogout:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("SET_TOKEN",null),e.next=3,this.$store.dispatch("GenerateRoutes",null);case 3:this.$router.replace("/login");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCommand:function(e){var t=this;"loginout"==e?this.$confirm("即将退出, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){t.handleLogout()})):"setinfo"==e?this.$store.commit("SET_VISIBLE",!0):"recharge"==e&&this.$store.commit("SET_RECHARGE",!0)},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen},handleReload:function(){this.$store.commit("SET_RELOAD")}}},u=l,c=(r("99a1"),r("2877")),d=Object(c["a"])(u,i,o,!1,null,"849cd8be",null),p=d.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-aside",{staticClass:"sider-container",attrs:{width:e.sideWidth}},[r("div",{class:["page-title",e.$store.state.layout.collapsed?"title-collapsed":""],style:{backgroundColor:e.$store.state.layout.bgColor}},[r("span",{staticClass:"page-logo",style:{backgroundImage:"url("+e.bgImg+")"}},[e._v(e._s(e.$store.state.layout.title))])]),r("el-menu",{staticClass:"sidebar-el-menu",style:{width:e.sideWidth},attrs:{"default-active":e.onRoutes,collapse:e.$store.state.layout.collapsed,"background-color":e.$store.state.layout.bgColor,"text-color":"#fff","active-text-color":e.$store.state.layout.actColor,router:"","unique-opened":""}},[e._l(e.menus,(function(t){return[t.children?[r("el-submenu",{key:t.path,attrs:{index:t.path}},[r("template",{slot:"title"},[r("i",{class:t.meta.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])]),e._l(t.children,(function(t){return[t.children?r("el-submenu",{key:t.path,attrs:{index:t.path}},[r("template",{slot:"title"},[r("span",{staticStyle:{"padding-left":"8px"}},[e._v(e._s(t.meta.title))])]),e._l(t.children,(function(t,a){return r("el-menu-item",{key:a,attrs:{index:t.path}},[e._v(e._s(t.meta.title))])}))],2):r("el-menu-item",{key:t.path,attrs:{index:t.path}},[r("span",{staticStyle:{"padding-left":"8px"}},[e._v(e._s(t.meta.title))])])]}))],2)]:[r("el-menu-item",{key:t.path,attrs:{index:t.path}},[r("i",{class:t.meta.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])])]]}))],2)],1)},f=[],g={computed:{bgImg:function(){return"agency"==this.$store.state.user.type?r("be5e"):r("a10a")},onRoutes:function(){var e=this.$route.path;return this.$route.meta&&this.$route.meta.hideInMenu&&(e=this.$route.meta.hideInMenu),e},sideWidth:function(){return this.$store.state.layout.collapsed?"64px":"200px"},menus:function(){return this.$store.state.permission.menus}}},h=g,b=(r("cd0d"),Object(c["a"])(h,m,f,!1,null,"d189808c",null)),v=b.exports,w={data:function(){return{tagsList:[],breadcrumb:[]}},components:{vHeader:p,vSidebar:v}},y=w,A=(r("525a"),Object(c["a"])(y,a,n,!1,null,"1b3da824",null));t["a"]=A.exports},cae6:function(e,t,r){},ccd6:function(e,t,r){},cd0d:function(e,t,r){"use strict";var a=r("d63a"),n=r.n(a);n.a},ceb0:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"editorElem",staticStyle:{"text-align":"left"}})},n=[],i=(r("c5f6"),r("6fad")),o=r.n(i),s=r("365c"),l={props:{value:{type:String,value:""},height:{type:Number,default:500}},data:function(){return{editor:null}},methods:{initEditor:function(e){var t=this;e.config.zIndex=100,e.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","splitLine","undo","redo"],e.config.customUploadImg=function(e,r){var a=new FormData;a.append("file",e[0]),Object(s["P"])(a).then((function(e){200==e.code&&e.data.url?r(e.data.url):t.$message.error("上传失败")}))},e.config.onchange=function(e){t.$emit("input",e)},e.config.height=this.height,e.config.onchangeTimeout=500,e.create()}},mounted:function(){var e=this;this.editor=new o.a(this.$refs.editorElem),this.initEditor(this.editor),this.editor&&this.editor.txt.html(this.value);var t=this.$watch("value",(function(r){e.editor&&e.editor.txt&&(e.editor.txt.html(r),t())}))}},u=l,c=r("2877"),d=Object(c["a"])(u,a,n,!1,null,null,null);t["a"]=d.exports},d443:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["upload-card",e.listLens<e.maxLens?"":"over-limit"]},[r("el-upload",{ref:"upload",attrs:{"list-type":"picture-card",action:"#","file-list":e.imgList,"before-upload":e.beforeUpload,"http-request":e.httpRequest,"on-success":e.handleSuccess,"on-error":e.handleError,"on-preview":e.handlePictureCardPreview,"on-change":e.handleChange,"before-remove":e.beforeRemove,limit:e.maxLens,"on-exceed":e.handleExceed,"on-remove":e.handleRemove,accept:e.fileType.map((function(e){return"."+e})).join(","),"auto-upload":e.autoUpload}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),r("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":"","modal-append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("96cf"),r("3b8d")),s=(r("7f7f"),r("75fc"));r("c5f6");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={props:{autoUpload:Boolean,UploadFile:{type:Function,default:function(){return new Promise}},cropWidth:{type:Number,default:200},cropHeight:{type:Number,default:200},maxLens:{type:Number,default:1},value:{type:Array,default:function(){return[]}},fileType:{type:Array,default:function(){return["jpg","png","bmp","jpeg"]}}},data:function(){return{listLens:this.value.length,imgList:Object(s["a"])(this.value),dialogImageUrl:"",dialogVisible:!1,errorImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAflBMVEUAAAC/v7+/v7+/v7+/v7/AwMDAwMC/v7+/v7+/v7+/v7+/v7+/v7/AwMDAwMDAwMC/v7/BwcG/v7+/v7/AwMC/v7+/v7/AwMC/v7++vr6/v7+/v7+/v7+/v7/AwMC/v7/AwMC+vr69vb2/v7/AwMC/v7+/v7+/v7+/v7+/v78+miVYAAAAKXRSTlMAf0CqM1RM4J9H9Orbo5mVhhPVw7WMbWQ2Lx78nJB7d1o9KAbNzMuACGNsl0cAAAFRSURBVEjH3ZXZdoMgFEUPRo2aGGMzD83Yif//wcrRBRpN16WP2Q+JwtmCIIDXIEzGWsR0Fpu80h4oINZehJj5CQmm1W8AEUEVHcNokMHs/4UwAIkDicD+zU3ZXOtQKugCKKq/WCRw/vJcsyGRQIPNSARn5PAURnKBeRryl1bq0dj/Oayq1iKXUPozei4oRtoTNzeVG+GnwTxZSz++lW44y4R3U/NG4/uJkK5Tly+47HdnGqtBYdMeU67c8Q5Y0ygGhFN73o7Mh3wOy5N7V2CXnZGYq8kW5HJgedkR7kutnZEzf0VDlJn75b4llPVo5LUxYj6AJZ2YksXNCtus2dYi206WosWVm+mXFcjkYlrv50nILnSExRawxqG3rm8fD0JSAs6I0GO/6AgnVxMfVykGKJdOyCII+BlZYSfcjK0AD8F7u/c+ULyPLN9D0fvYfQl+AQIXjJScbXR/AAAAAElFTkSuQmCC",finishCropper:null,cropperVisible:!1,cropperImage:""}},watch:{value:function(e){var t=this;e.length&&!e.some((function(e){return e.uid}))&&e.map((function(e){return t.imgList.push(e)}))}},methods:{processFileList:function(e){this.listLens=e.length;var t=[];e.map((function(e){"success"==e.status&&"undefined"==typeof e.response&&/^https?:\/\//.test(e.url)?t.push({uid:e.uid,name:e.name,url:e.url}):"success"==e.status&&e.response&&e.response.data&&e.response.data.url&&t.push({uid:e.uid,name:e.name,url:e.response.data.url})})),this.autoUpload?(this.$emit("input",t),this.$emit("change",t)):(this.$emit("input",e),this.$emit("change",e))},handleChange:function(e,t){this.processFileList(t)},httpRequest:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("file",t.file),e.abrupt("return",this.UploadFile(r));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submit:function(e){var t=new FormData;return t.append("file",e),this.UploadFile(t)},beforeRemove:function(e,t){var r=this;return"success"!=e.status||new Promise((function(e,t){r.$confirm("即将删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){e()})).catch((function(e){t()}))}))},handleRemove:function(e,t){this.processFileList(t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleExceed:function(e,t){this.$message.warning("超出最大限制")},handleSuccess:function(e,t){200==e.code?(this.$message.success("上传成功"),t.url=e.data.url):(t.url=this.errorImage,t.status="fail")},handleError:function(e,t,r){t.url=this.errorImage,t.status="fail",this.$message.error("上传失败")},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;if(!t){var a="上传图片只能是 JPG/PNG 格式!";return this.$message.warning(a),!1}if(!r){var n="上传图片大小不能超过 2MB!";return this.$message.warning(n),!1}return!this.cropper||this.startCropper(e)},getListIndex:function(e,t,r){for(var a=0;a<e.length;a++)if(e[a][t]==r)return a;return-1},clearParentUpload:function(e){var t=this.$refs.upload;if(t){var r=this.getListIndex(t.uploadFiles,"uid",e.uid),a=JSON.stringify(u({},t.uploadFiles[r],{index:r}));return t.uploadFiles.splice(r,1),t.onRemove(e,t.uploadFiles),a}return null},setParentUpload:function(e){var t=this.$refs.upload;t&&(t.uploadFiles[e.index]=u({},e))},startCropper:function(e){var t=this,r=this.clearParentUpload(e);return this.cropperImage=URL.createObjectURL(e),this.cropperVisible=!0,new Promise((function(a,n){t.finishCropper=function(n){var i=n?new File([n],e.name,{type:n.type}):null;i&&r&&t.setParentUpload(JSON.parse(r)),a(i)}}))},saveCropper:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){e.finishCropper(t),e.cropperVisible=!1,e.cropperImage=""}))},handleClose:function(){this.cropperVisible=!1,this.cropperImage=""}}},d=c,p=(r("830b"),r("2877")),m=Object(p["a"])(d,a,n,!1,null,"27fe8bdf",null);t["a"]=m.exports},d44a:function(e,t,r){},d63a:function(e,t,r){},e488:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[e._v("订单数")]),r("countTo",{staticStyle:{"font-size":"14px"},attrs:{startVal:0,endVal:e.orderNum,duration:500}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[e._v("销售额")]),r("countTo",{staticStyle:{"font-size":"14px"},attrs:{startVal:0,decimals:2,endVal:e.saleNum,duration:500}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[e._v("中奖订单数")]),r("countTo",{staticStyle:{"font-size":"14px"},attrs:{startVal:0,endVal:e.bingoOrder,duration:500}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[e._v("中奖金额")]),r("countTo",{staticStyle:{"font-size":"14px"},attrs:{startVal:0,decimals:2,endVal:e.bingoNum,duration:500}})],1)],1)],1),r("div",{staticStyle:{height:"10px"}}),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header no-margin",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"card-title"},[r("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$route.meta.title))])]),r("el-form",{attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"店铺名称："}},[r("el-input",{attrs:{placeholder:"请输入店铺名称",size:"small",clearable:""},model:{value:e.formInline.shop_name,callback:function(t){e.$set(e.formInline,"shop_name",t)},expression:"formInline.shop_name"}})],1),r("el-form-item",{attrs:{label:"起止时间："}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"small",clearable:""},model:{value:e.formInline.range,callback:function(t){e.$set(e.formInline,"range",t)},expression:"formInline.range"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("查 询")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"order_no",label:"订单编号"}}),r("el-table-column",{attrs:{prop:"shop_name",label:"店铺名称"}}),r("el-table-column",{attrs:{prop:"pass_type",label:"商品类型"}}),r("el-table-column",{attrs:{prop:"bet_amount",label:"订单金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          ￥"+e._s(t.row.bet_amount)+"\n        ")]}}])}),r("el-table-column",{attrs:{prop:"created_at",label:"下单时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n         "+e._s(e.formatDateTime(t.row.created_at))+"\n        ")]}}])}),r("el-table-column",{attrs:{prop:"winning_status",label:"中奖状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["winning"==t.row.winning_status?r("span",{staticStyle:{color:"#67C23A"}},[e._v("中奖")]):"not_won"==t.row.winning_status?r("span",{staticStyle:{color:"#F56C6C"}},[e._v("未中奖")]):r("span",[e._v("未开奖")])]}}])}),r("el-table-column",{attrs:{prop:"bet_amount",label:"中奖金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          ￥"+e._s(t.row.wining_amount)+"\n        ")]}}])})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),o=r("bd86"),s=(r("c5f6"),r("ec1b")),l=r.n(s),u=r("5a0c"),c=r.n(u);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={components:{countTo:l.a},props:{api:{type:Object,default:function(){}},aid:{type:[Number,String],default:""}},data:function(){return{loading:!1,currentPage:1,pageSize:10,pageTotal:0,tableData:[],statusList:[],formInline:{shop_id:this.$route.params.sid,agent_id:this.$route.params.aid,range:[]},visible:!1,searhParams:{},saleNum:0,orderNum:0,bingoOrder:0,bingoNum:0}},methods:{formatDateTime:function(e){return c()(e).format("YYYY-MM-DD HH:mm:ss")},getStat:function(){var e=this;this.api.orderStat(p({shop_id:this.searhParams.shop_id},this.aid?{agent_id:this.aid}:{})).then((function(t){200==t.code&&(e.orderNum=Number(t.data.total_num||0),e.saleNum=Number(t.data.total_amount||0),e.bingoNum=Number(t.data.winning_amount||0),e.bingoOrder=Number(t.data.winning_num||0))}))},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.api.orderList(p({num:this.pageSize,page:this.currentPage},this.searhParams));case 5:t=e.sent,this.loading=!1,200==t.code&&(this.pageTotal=t.data.total,this.currentPage=parseInt(t.data.current_page||1),this.tableData=t.data&&t.data.list?t.data.list:[]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSearch:function(){this.currentPage=1;var e=this.formInline.range&&this.formInline.range[0]?this.formInline.range[0]:void 0,t=this.formInline.range&&this.formInline.range[1]?this.formInline.range[1]:void 0;this.searhParams=p({},this.formInline,{range:void 0,start_time:e,end_time:t}),this.getData(),this.getStat()}},created:function(){this.onSearch()}},f=m,g=r("2877"),h=Object(g["a"])(f,a,n,!1,null,null,null);t["a"]=h.exports},e85d:function(e,t,r){},ed08:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i}));r("28a5");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=/\d(\.|\d)*\d/gi;if(!r.test(e))return!1;if(r.test(t))return!0;var a=e.split(".").map((function(e){return+e})),n=t.split(".").map((function(e){return+e}));if(a[0]>n[0])return!0;if(a[0]==n[0]){if(a[1]>n[1])return!0;if(a[1]==n[1]){if(a[2]>n[2])return!0;if(a[2]==n[2])return!0}}return!1}function n(e){if(navigator.clipboard&&"function"===typeof navigator.clipboard.writeText){var t=e;return navigator.clipboard.writeText(t)}return new Promise((function(t,r){try{var a=document.createElement("input");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),t()}catch(n){r(n)}}))}function i(e){var t=[];function r(a,n){a.length>0&&t.push(a.slice());for(var i=n;i<e.length;i++)a.push(e[i]),r(a,i+1),a.pop()}r([],0);var a={};return t.forEach((function(e){a[e.reduce((function(e,t){return e+t}),0)]=e})),a}}}]);